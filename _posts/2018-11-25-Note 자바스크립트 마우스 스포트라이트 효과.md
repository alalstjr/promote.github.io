<div class="box">
  <div class="small-title">자바스크립트 마우스 스포트라이트 효과</div>
  <p>spotlight: 집중 광선; 각광, 세상의 주목</p>
  <p>이번에 만들어본 자바스크립트 스포트라이트 효과는 마우스 호버시 숨겨진 뒷배경이 마우스 주변으로 밝아지며 보여지는 효과를 만들어 봤습니다.</p>
  <p>이번 작업에서 canvas 니 svg를 활용하면 더 쉽게 그리고 호환성 높게 모든 브라우저를 고려하여 만들었겠지만 이번엔 순수 css를 이용하여 작업했습니다.</p>
  <p>호환성을 조금만 고려한 나머지 explorer 9 버전 이후로는 작동이 안된다는... 이건 좀더 생각하고 고쳐야할 사항인거같습니다..</p>
</div>

<div class="box">
  <p>처음스포트 라이트 작업이야기를 듣고 여러가지 생각을했습니다.</p>
  <p><q>그냥 마우스에 동그랑 원만 생기면 되는거 아닌가??</q></p>
  <p>네 그냥 동그란 원이 마우스만 따라다니면 되는 부분이라 생각했지만 어떻게 해야 뒷배경을 보여줄 동그랑 투명 원을 만들지 도무지 생각을 해봐도 떠오르지 않았습니다.</p>
  <p>우선 구글링과 MDN CSS 를 검색해본결과 CSS에 radial-gradient 이라는 그라데이션 기능이 있는것을 발견하고 찾아보았습니다.</p>
  <p>딱 제가 원하는 색상있는 배경에 그라데이션 효과를 주어 구멍을 내는 기능이였습니다.</p>
  <div class="pro-txt">
   <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/radial-gradient" target="_balnk">MDN - radial-gradient()</a>
  </div>
  <p>익스 9부터는 지원 안해주는 크나큰 단점이 존재하지만 크롬을 기준으로 작업을 진행하였습니다.</p>
</div>

<div class="box">
  <p>우선 HTML 틀을 잡아줍니다.</p>
{% highlight javascript %}
// CSS
.bg {
	background-image: url(img/main-bg.jpg);
	background-size: cover;
	padding-bottom: 50%;    
	position: absolute;
    width: 100%;
    top: 0;
    left: 0;
	opacity: 0;
	transition: 0.3s all;
}
.bg #bulr-cover {
	background-repeat: no-repeat;
	position: absolute;
	left: 0;
	top: 0;
	width: 100%;
	height: 100%;
	/*background-color: #333;*/
	background: -moz-radial-gradient(circle closest-side,transparent , rgba(255,255,255,1) 300px);
	background: -webkit-radial-gradient(circle closest-side,transparent , rgba(255,255,255,1) 300px);
	background: -ms-radial-gradient(circle closest-side,transparent , rgba(255,255,255,1) 300px);
	background: -o-radial-gradient(circle closest-side,transparent , rgba(255,255,255,1) 300px);
}

// HTML 
<div id="first-box" class="big-box">	
	<div class="bg">
		<div id="bulr-cover"></div>
	</div>
</div>
{% endhighlight %}

<p>.bg 배경은 opacity 0 을 주어 숨겨 두었습니다. 마우스 오버시 등장시키도록 효과를 주려고 잠시 숨겨 두었습니다.</p>
<p>#bulr-cover 가 뒷배경을 가려주며 스포트 라이트 효과를 주는 커튼 역활을 합니다.</p>
<p>radial-gradient 의 활용법은 여러가지가 많이 있으며 그중에서 저는 원형의 그라데이션 효과를 주었습니다.</p>

<div class="pro-txt">
  <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/radial-gradient" target="_balnk">MDN - radial-gradient 란</a>
</div>

<p>이제 틀이 잡혀있으니 자바스크립트로 효과를 주도록 하겠습니다.</p>
</div>

<div class="box">
{% highlight javascript %} 
// 마우스 호버 이벤트 구역 생성
var _mh = [];
{% endhighlight %}
  <p>우선 마우스 효과 이벤트 개인 구역을 생성 했습니다.</p>
  <p>이제부터 마우스 효과 변수와 함수는 ( _mh ) 클레스에서 관리합니다.</p>
</div>

<div class="box">
  
{% highlight javascript %}
// 블러 커버
_mh.bulrCover = document.getElementById('bulr-cover');
_mh.bigArea = document.getElementById('first-box');
_mh.bg = document.getElementsByClassName('bg').item(0);
{% endhighlight %}

  <p>_mh.bulrCover 변수에는 마우스 이동시 움직임 효과를 주기 위해 #bulr-cover를 지정해 주었습니다.</p>
  <p>_mh.bigArea 변수는 #first-box 내부에서만 함수가 실행될 수 있도록 조건 구역을 지정해 주었습니다.</p>
  <p>_mh.bg 변수는 마우스 이벤트 동작시 등장 또는 사라지는 효과를 주기위해서 지정해 주었습니다.</p>
  <p>이렇게 Element 지정 까지 완료했습니다. 다음에는 함수를 생성하여 기능을 추가해 보도록 하겠습니다.</p>
</div>

<div class="box">
{% highlight javascript %}
_mh.mouse = function(e) {
  console.log('마우스 인');
}

_mh.mouseOut = function(e) {
  console.log('마우스 아웃');
}

// 사용자가 마우스를 움직이는경우 함수 실행
_mh.bigArea.addEventListener('mousemove',_mh.mouse);
_mh.bigArea.addEventListener('mouseout',_mh.mouseOut);
{% endhighlight %}

<p>우선 함수 두개를 생성 하였습니다.</p>
<p>첫번째 _mh.mouse 함수는 마우스가 해당 영역에 들어와 움직임을 인지하면 실행 되는 함수 입니다.</p>
<p>두번째 _mh.mouseOut 함수는 마우스가 해당 영역에서 벗어날 경우를 인지하면 실행되는 함수 입니다.</p>
<p>그리고 이를 실행시켜주는 함수 addEventListener 의 mousemove 와 mouseout 메서드를 이용했습니다.</p>
<p>실행 결과를 확인해 보면 #first-box 영역에서 마우스를 움직일 경우 _mh.mouse 함수가 실행되는것을 확인할 수 있습니다.</p>

<div class="img-box">
  <img src="{{ site.baseurl }}/static/img/post/2018-11-25-1.png" alt="자바스크립트 출력확인" />
</div>

<p>그리고 #first-box 영역을 벗어나는 즉시 _mh.mouseOut 함수가 실행되어 '마우스 아웃' 콘솔로그가 출력되는 것을 확인할 수 있습니다.</p>
<div class="img-box">
  <img src="{{ site.baseurl }}/static/img/post/2018-11-25-2.png" alt="자바스크립트 출력확인" />
</div>
<p>마우스 이벤트가 실행되는 것을 확인 했으니 마우스 움직임직임시 동작을 추가해 보도록 하겠습니다.</p>
</div>

<div class="box">

</div>
